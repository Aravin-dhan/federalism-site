---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const interviews = await getCollection('videos');
const sorted = interviews.sort((a, b) => b.data.publishedOn.getTime() - a.data.publishedOn.getTime());
---

<Layout title="Balamurugan | Interviews" description="Television and podcast appearances.">
	<section class="space-y-4">
		<p class="text-sm uppercase tracking-[0.3em] text-slate/70">Federal Renewal</p>
		<h1 class="font-display text-4xl text-slate">Interviews</h1>
		<p class="text-base text-slate/80">Recordings that amplify the ideas inside <em>Federalism Under Siege</em>. Videos are hosted externally for accessibility.</p>
	</section>
	<section class="mt-10 space-y-6">
		{sorted.map((entry) => (
			<article class="border border-slate/20 bg-white p-6">
				<h2 class="font-display text-2xl text-slate">
					<a class="hover:text-accent-red" href={entry.data.url}>{entry.data.title}</a>
				</h2>
				<p class="mt-2 text-sm uppercase tracking-[0.3em] text-slate/70">
					{entry.data.platform} Â· {entry.data.publishedOn.toLocaleDateString('en-IN', { dateStyle: 'medium' })}
				</p>
				<p class="mt-3 text-base text-slate/80">{entry.data.description}</p>
			</article>
		))}
	</section>
</Layout>
